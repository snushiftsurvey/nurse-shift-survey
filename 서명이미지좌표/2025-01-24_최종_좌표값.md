# 서명 이미지 좌표값 기록 (2025-01-24)

## 변경 이력
- **날짜**: 2025년 1월 24일
- **작업**: 새로운 동의서 이미지(4개 → 2개 통합) 및 좌표 조정
- **파일**: `components/survey/ConsentFormOverlay.tsx`

## 이미지 정보
- **기준 이미지 크기**: 1654 x 2339 (WIDTH x HEIGHT)
- **이미지 파일**:
  - `agree-sig-1.png` - 첫 번째 동의서
  - `agree-sig-2.png` - 두 번째 동의서 (현재는 동일한 좌표 사용)

---

## 📍 agree-sig-1.png 좌표 (COORDINATES_SIG1)

### 연구참여자 정보 (첫 번째 줄)

#### 성명 (name1)
```javascript
{ left: 270, top: 952, right: 606, bottom: 1000 }
```
- **너비**: 336px
- **높이**: 48px
- **비고**: 아래로 10px 이동

#### 서명 (signature1)
```javascript
{ left: 778, top: 946, right: 917, bottom: 994 }
```
- **너비**: 139px
- **높이**: 48px
- **비고**: 아래로 10px 이동

#### 날짜 (date1)
```javascript
{ left: 1020, top: 959, right: 1266, bottom: 1007 }
```
- **너비**: 246px
- **높이**: 48px
- **비고**: 아래로 20px 이동
- **폰트 크기**: 11px

---

### 동의받는 연구원 정보 (두 번째 줄)

#### 성명 (name2)
```javascript
{ left: 281, top: 1088, right: 617, bottom: 1136 }
```
- **너비**: 336px
- **높이**: 48px
- **비고**: 아래로 10px 이동

#### 서명 (signature2)
```javascript
{ left: 780, top: 1081, right: 919, bottom: 1129 }
```
- **너비**: 139px
- **높이**: 48px
- **비고**: 아래로 10px 이동

#### 날짜 (date2)
```javascript
{ left: 1027, top: 1091, right: 1273, bottom: 1139 }
```
- **너비**: 246px
- **높이**: 48px
- **비고**: 아래로 20px 이동
- **폰트 크기**: 11px

---

## 📍 agree-sig-2.png 좌표 (COORDINATES_SIG2)

현재는 `agree-sig-1.png`와 동일한 좌표 사용

```javascript
const COORDINATES_SIG2 = {
  // 첫 번째 줄 (연구참여자)
  name1: { left: 270, top: 952, right: 606, bottom: 1000 },
  signature1: { left: 778, top: 946, right: 917, bottom: 994 },
  date1: { left: 1020, top: 959, right: 1266, bottom: 1007 },
  // 두 번째 줄 (동의받는 연구원)
  name2: { left: 281, top: 1088, right: 617, bottom: 1136 },
  signature2: { left: 780, top: 1081, right: 919, bottom: 1129 },
  date2: { left: 1027, top: 1091, right: 1273, bottom: 1139 }
}
```

---

## 🎨 스타일 속성

### 날짜 텍스트 스타일
```javascript
{
  fontSize: '11px',
  lineHeight: '1',
  color: '#000',
  WebkitTextSizeAdjust: '100%', // iOS Safari 텍스트 확대 방지
  textSizeAdjust: '100%'
}
```

### 이미지 스타일
```javascript
// 서명 이미지에만 적용
style={{ filter: 'contrast(1.2)' }}
```

---

## 💡 좌표 계산 방식

```javascript
// 절대 좌표를 백분율로 변환
const BASE_WIDTH = 1654
const BASE_HEIGHT = 2339

const getCoordinateStyle = (coordinateKey) => {
  const coordinates = map[coordinateKey]
  const width = coordinates.right - coordinates.left
  const height = coordinates.bottom - coordinates.top
  
  return {
    position: 'absolute',
    left: `${(coordinates.left / BASE_WIDTH) * 100}%`,
    top: `${(coordinates.top / BASE_HEIGHT) * 100}%`,
    width: `${(width / BASE_WIDTH) * 100}%`,
    height: `${(height / BASE_HEIGHT) * 100}%`,
  }
}
```

---

## 📝 주요 조정 내역

1. **성명 필드**: 아래로 10px 이동
2. **서명 필드**: 아래로 10px 이동
3. **날짜 필드**: 아래로 20px 이동
4. **날짜 폰트**: 11px 고정
5. **iOS 텍스트 확대 방지**: `textSizeAdjust: 100%` 적용

---

## 🔧 테스트 환경

- ✅ 데스크톱 (Chrome, Firefox)
- ✅ 모바일 (iOS Safari, Android Chrome)
- ✅ 반응형 레이아웃
- ✅ PDF 생성 시 좌표 정확도

---

## 📎 관련 파일

- `components/survey/ConsentFormOverlay.tsx` - 좌표 정의 및 렌더링
- `hooks/useConsentPDF.ts` - PDF 생성 시 동일 좌표 사용
- `public/images/signature/agree-sig-1.png` - 첫 번째 동의서 이미지
- `public/images/signature/agree-sig-2.png` - 두 번째 동의서 이미지

